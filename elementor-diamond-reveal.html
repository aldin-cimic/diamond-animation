<!-- 
    ELEMENTOR DIAMOND REVEAL IMPLEMENTATION
    Copy this HTML into an Elementor HTML widget
-->

<section class="diamond-reveal-section" data-animation="star-mask">
    <!-- Background Content Layer -->
    <div class="reveal-content-layer">
        <div class="content-wrapper">
            <h2 class="reveal-title">Your Content Here</h2>
            <p>This text will be visible before and after the reveal</p>
        </div>
    </div>

    <!-- Background Image Layer (will be revealed through diamond mask) -->
    <div class="reveal-image-layer" data-mask-block>
        <div class="background-image-container">
            <img src="YOUR_IMAGE_URL_HERE" alt="Background Image" class="reveal-background-image">
        </div>
    </div>

    <!-- Spacer to control scroll height -->
    <div class="reveal-spacer"></div>
</section>

<!-- 
    Add this CSS in Elementor: 
    Settings > Advanced > Custom CSS > or in the page's Custom CSS section
-->
<style>
/* Copy the diamond reveal styles from styles.css */
.diamond-reveal-section {
    position: relative;
    display: grid;
    z-index: 1;
    margin-bottom: -100vh;
    margin-bottom: -100svh;
}

.reveal-content-layer {
    height: 100vh;
    grid-row-start: 1;
    grid-row-end: 1;
    grid-column-start: 1;
    grid-column-end: 1;
    position: sticky;
    top: 0;
    display: flex;
    align-items: center;
    overflow: hidden;
    background-color: #f5f1e8;
    color: #1a1a1a;
    z-index: 1;
}

.content-wrapper {
    padding: 2.5rem;
    position: relative;
    width: 100%;
    text-align: center;
}

.reveal-title {
    font-size: 4rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.2;
}

.reveal-image-layer {
    position: sticky;
    top: 0;
    width: 100%;
    height: 100vh;
    grid-row-start: 1;
    grid-row-end: 1;
    grid-column-start: 1;
    grid-column-end: 1;
    z-index: 2;
    mask-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB2aWV3Qm94PSIwIDAgMjAwMCAyMDAwIj48Zz48ZyBmaWxsPSJSR0IoMjU1LCAyNTUsIDI1NSkiIGlkPSJzdGFyIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcxOTMzOTgwMDMzODY1MTIsMC42OTQ2NTgzNzA0NTg5OTczLC0wLjY5NDY1ODM3MDQ1ODk5NzMsMC43MTkzMzk4MDAzMzg2NTEyLDk3NS4zMTg1NzAxMjAzNDYxLC00MzguOTk4MTcwNzk3NjQ4NSkiPjxwYXRoIGQ9Ik0gNTAwIDUwMCBDIDEwMDAgMTAwMCAxMDAwIDEwMDAgMTUwMCA1MDAgQyAxMDAwIDEwMDAgMTAwMCAxMDAwIDE1MDAgMTUwMCBDIDEwMDAgMTAwMCAxMDAwIDEwMDAgNTAwIDE1MDAgQyAxMDAwIDEwMDAgMTAwMCAxMDAwIDUwMCA1MDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9wYXRoPjwvZz48L2c+PC9zdmc+');
    mask-size: 0px;
    mask-repeat: no-repeat;
    mask-position: center center;
    -webkit-mask-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB2aWV3Qm94PSIwIDAgMjAwMCAyMDAwIj48Zz48ZyBmaWxsPSJSR0IoMjU1LCAyNTUsIDI1NSkiIGlkPSJzdGFyIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcxOTMzOTgwMDMzODY1MTIsMC42OTQ2NTgzNzA0NTg5OTczLC0wLjY5NDY1ODM3MDQ1ODk5NzMsMC43MTkzMzk4MDAzMzg2NTEyLDk3NS4zMTg1NzAxMjAzNDYxLC00MzguOTk4MTcwNzk3NjQ4NSkiPjxwYXRoIGQ9Ik0gNTAwIDUwMCBDIDEwMDAgMTAwMCAxMDAwIDEwMDAgMTUwMCA1MDAgQyAxMDAwIDEwMDAgMTAwMCAxMDAwIDE1MDAgMTUwMCBDIDEwMDAgMTAwMCAxMDAwIDEwMDAgNTAwIDE1MDAgQyAxMDAwIDEwMDAgMTAwMCAxMDAwIDUwMCA1MDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9wYXRoPjwvZz48L2c+PC9zdmc+');
    -webkit-mask-size: 0px;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-position: center center;
    opacity: 0;
}

.reveal-image-layer.mask-active {
    opacity: 1;
}

.background-image-container {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.reveal-background-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.reveal-spacer {
    padding-top: 400vh; /* Increased from 100vh to 400vh to match the scroll distance */
    position: relative;
    grid-row-start: 1;
    grid-row-end: 1;
    grid-column-start: 1;
    grid-column-end: 1;
    z-index: 3;
}
</style>

<!-- 
    Add this JavaScript in Elementor:
    Settings > Advanced > Custom Code > Footer
    Or use a Code widget at the bottom of the page
-->
<script>
(function() {
    if (typeof gsap === 'undefined') {
        var gsapScript = document.createElement('script');
        gsapScript.src = 'https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js';
        document.head.appendChild(gsapScript);
        
        var scrollTriggerScript = document.createElement('script');
        scrollTriggerScript.src = 'https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js';
        scrollTriggerScript.onload = initDiamondReveal;
        document.head.appendChild(scrollTriggerScript);
    } else {
        if (typeof ScrollTrigger !== 'undefined') {
            initDiamondReveal();
        } else {
            var scrollTriggerScript = document.createElement('script');
            scrollTriggerScript.src = 'https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js';
            scrollTriggerScript.onload = initDiamondReveal;
            document.head.appendChild(scrollTriggerScript);
        }
    }
    
    function initDiamondReveal() {
        gsap.registerPlugin(ScrollTrigger);
        const section = document.querySelector('[data-animation="star-mask"]');
        const maskBlock = document.querySelector('[data-mask-block]');
        
        if (!section || !maskBlock) return;
        
        const width = window.innerWidth;
        const height = window.innerHeight;
        const diagonal = Math.sqrt(width * width + height * height);
        const maxMaskSize = diagonal * 10;
        maskBlock.style.maskSize = '0px';
        maskBlock.style.webkitMaskSize = '0px';
        
        gsap.to(maskBlock, {
            maskSize: maxMaskSize + 'px',
            WebkitMaskSize: maxMaskSize + 'px',
            opacity: 1,
            ease: 'none',
            scrollTrigger: {
                trigger: section,
                start: 'top top',
                end: '+=400%', // Scroll distance for reveal (400% of viewport height - longer duration)
                scrub: true,
                onEnter: () => maskBlock.classList.add('mask-active'),
                onLeave: () => maskBlock.classList.add('mask-active'),
                onEnterBack: () => maskBlock.classList.add('mask-active'),
                onLeaveBack: () => maskBlock.classList.remove('mask-active')
            }
        });
    }
})();
</script>

